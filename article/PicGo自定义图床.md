# 自定义图床
## 为什么需要图床？
> 我们在撰写文章时，常常需要配合图片来让读者看得更舒服和自然，图片方便了人的理解；  
> 我国有句“古话”：没图，你说个腿~  
> 然而，插入图片可没这么简单，我们常常将文章发布到多个平台，如果我们使用相对路径的话，其他平台需要我们一个一个修改相应的地址  
> 图床的意义，是专门用来存放图片，同时允许你把图片对外可访问。  
## 可做图床的平台
> 细数以下国内可以用的图床：  
> * 七牛云  
>> * 官网地址：https://portal.qiniu.com  
>> * 注册认证后有10G永久免费空间，每月10G国内和10G国外流量，速度相当快，七牛云是国内专业CDN服务商，插件支持比较多，有免费ssl证书，但https流量收费  
注意：七牛云30天后会回收测试域名，因此你必须要绑定自己的已备案的域名  
图片上传限制：无
> * 又拍云  
>> * 官网地址：https://www.upyun.com  
>> * 简介：注册认证后有10G永久免费空间，每月15G的HTTP和HTTPS流量，提供两款可以免费续期的SSL证书，不过用户需要加入又拍云联盟（即在网站底部添加又拍云logo及官网链接）  
注意：需要绑定自己的已备案域名，又拍云认证比较麻烦，建议使用七牛云  
图片上传限制：无
> * 公益图床  
>> * 官网地址：http://sbimg.cn  
长期保存需要注册使用，这个图床服务器在国内应该还用了cdn，总之速度非常快  
> * 路过图床
>> * 官网地址：https://imgchr.com  
简介：支持免注册上传图片，永久存储，支持HTTPS加密访问和调用图片，提供多种图片链接格式，成立于2011年  
限制：最大10M
> * SM.MS
>> * 官网地址：https://sm.ms  
特点：永久存储免注册，图片链接支持https，可以删除上传的图片，提供多种图片链接格式，建立于2015年，目前免费用户无法使用香港节点因此速度比较慢  
图片上传限制：每个图片最大5M，每次最多上传10张  
> * 腾讯云
>> * 官网地址：https://cloud.tencent.com  
简介：仅可以使用六个月的免费存储容量、免费请求和免费流量，不推荐使用  
限制：时间、流量、空间大小均有限制  
> * 聚合图床
>> * 官网地址：https://www.superbed.cn  
简介：将图片分发到多处备份，借助其本身的CDN加速功能，节省服务器流量，并且不用担心图片被删除，即便其中某几个图床上的图片被删除了，还有其他备份，保证万无一失，支持匿名和注册管理  
图片上传限制：无  
> * 偶流社区图床
>> * 官网地址：https://upload.ouliu.net/  
简介：无需注册即可上传，稳定存在很久了，我这里测试上传速度有点慢  
限制：最大10M，会审核图片内容  
> * 堆爱外链
>> * 官网地址：http://pan.duiai.cc  
简介：注册才可以上传，存在的时间比较久，除了图片还可以上传视频和音乐  
限制：视频体积过大不可，但具体限制不明  
> * 除此之外，还有 网易蜂巢/图仓 等等  
## github搭建个人图床（码云步骤一样）
> * 既然上面有那么多可以充当图床的网站，为什么我们还要自建图床呢？  
> * 很简单，稳定长期的图床有着 空间 实名 等各种缺陷，新出的 又不能保证它的稳定性和收费，所以 我们选择 自建图床  
> * 通过github或者码云 我们既不需要服务器，又可以收获一个稳定的仓库，何乐而不为呢？  

> 步骤：  
1. **新建 public 仓库** -> 创建 token -> 复制 token 备用
点击 GitHub 主页右上角的 + 创建 New repository；
> * 填写仓库信息，例如我就创建了一个myimg的仓库。  
这里注意，仓库得设置为Public，因为无法访问 Private ，这样的话图片传上来之后只能存储不能显示。最后点击完成创建。  
> * 码云为例：  
![](https://cdn.jsdelivr.net/gh/Huansheng1/myimg/PicGo-img/20200605162107.png)
2. 此时仓库已经建立，点击右上角头像，然后**进入设置**；

> * 点击 Developer settings，  
点击 Personal access tokens  
最后创建新的Token  
> * 码云为例：  
>> * 创建私人令牌步骤如下：访问新建Gitee令牌，在私人令牌描述中写上便于你了解该令牌用处的文字，并勾选需要的权限，PicGo要使用的私人令牌只需要user_info和projects权限，勾选上后提交，gitee将会返回私人令牌的token，保存该token，因为该token只会出现一次，离开页面过后再不会出现。  
![](https://cdn.jsdelivr.net/gh/Huansheng1/myimg/PicGo/20200605211339.png)
> * 注：创建成功后，会生成一串token，这串token之后不会再显示，所以第一次看到的时候，就要好好保存
![](https://cdn.jsdelivr.net/gh/Huansheng1/myimg/PicGo-img/20200605155230.png)  

> * PicGo是一个用于快速上传图片并获取图片URL链接的工具，目前支持微博图床、七牛图床、腾讯云、又拍云、GitHub、阿里云、Imgur等图床。  

3. **配置PicGo**上的github:  
![](https://cdn.jsdelivr.net/gh/Huansheng1/myimg/PicGo-img/20200605154317.png)
> * 设定仓库名：按照【用户名/图床仓库名】的格式填写  
>> * 设定分支名：【master】  

>> * 设定Token：粘贴之前生成的【Token】  

>> * 指定存储路径：填写想要储存的路径，如【img/】，这样就会在仓库下创建一个名为 img 的文件夹，图片将会储存在此文件夹中  

>> * 设定自定义域名：在图片上传后，PicGo 会按照【自定义域名+储存路径+上传的图片名】的方式生成访问链接，并放到粘贴板上  

>>> * 因为我们要使用 [jsDelivr](https://www.dazhuanlan.com/2020/03/26/5e7c9c9250cb8/) 加速访问，所以可以设置为【https://cdn.jsdelivr.net/gh/用户名/图床仓库名 】  
> * 码云配置：  
![](https://cdn.jsdelivr.net/gh/Huansheng1/myimg/PicGo/20200605211057.png)

4. 我们随便选个图片，在md文本里，快捷键：`ctrl + shift + p` ，再`ctrl + v`，哇，图片自动上传并且粘贴到了 我们的文档里，完美！  

## 码云迁移github
注意，gitee因为不知名原因，图床仓库被限制无法公开，故弃用，以后不再使用码云，还是`github`YYDS，因此我们需要将原有的`gitee`仓库迁移回`github`，毕竟它搞这操作，说不准啥时候就倒闭了，国内厂商还是不太靠谱。。。唯一的访问优势被它搞得。

先去`gitee`下载回我们的仓库，然后将其推送到`github`仓库里，然后统一将项目里使用到的路径进行修改，以我的为例，大概是这样：

原来的`gitee`图片地址：`https://gitee.com/huanshenga/myimg/raw/master/PicGo/20210516130554.png`

新的`github`仓库地址：`https://cdn.jsdelivr.net/gh/Huansheng1/myimg/PicGo/20210516130554.png`

因此，我们只需要这样替换一下：![](https://cdn.jsdelivr.net/gh/Huansheng1/myimg/PicGo-img/20220626131621.png)